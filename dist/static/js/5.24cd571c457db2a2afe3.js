webpackJsonp([5],{"4E5k":function(t,a){},GfxM:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={name:"userList",data:function(){return{tableData:[],totalNumber:0,tableLabel:[{label:"序号",param:"index",align:"center",type:"index"},{label:"ID",param:"id",align:"center",width:"120"},{label:"用户名",param:"username",align:"center"},{label:"发表数",param:"publish_num",align:"center"},{label:"评论数",param:"comment_num",align:"center"},{label:"点赞数",param:"up_num",align:"center"},{label:"IP地址",param:"ip",align:"center",width:"230"},{label:"上一次登录时间",param:"last_login_time",align:"center",width:"150"},{label:"操作",type:"operation",list:[{label:"预览",render:function(t){return 1===t.status?"解封":0===t.status?"封禁":void 0},formatter:function(t){return 1===t.status?"success":"danger"},func:this.handleCloser}]}],pagination:{pageSize:20,pageNum:1,total:0}}},created:function(){this.getData()},methods:{handleCurrentChange:function(t){this.pagination.pageNum=t,this.getData()},handleCloser:function(t,a){var e=this,n=1===t.status?0:1,i=1===t.status?"解封":"封禁";this.$confirm("确定"+i+"用户？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.get("/admin/setUserStatus?user_id="+t.id+"&status="+n).then(function(t){0===t.data.code&&(e.$message({type:"success",message:i+"成功!"}),e.getData())})}).catch(function(){e.$message({type:"info",message:"已取消"+i})})},getData:function(){var t=this;this.$axios.get("http://test-admin-dstock.dongqiudi.net/admin/getUserList?page="+this.pagination.pageNum+"&size="+(this.pageSize?this.pageSize:20)).then(function(a){var e=a.data;0===e.code&&(t.tableData=e.data.list,t.pagination.total=e.data.total)})}},components:{dqdTable:e("yivU").a}},i={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"wrap"},[a("el-card",[a("dqd-table",{attrs:{isPagination:!0,"table-data":this.tableData,"table-label":this.tableLabel,pagination:this.pagination,isSelection:!1,isIndex:!0},on:{handleCurrentChange:this.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var s=e("VU/8")(n,i,!1,function(t){e("4E5k")},"data-v-3b57b5bc",null);a.default=s.exports}});
//# sourceMappingURL=5.24cd571c457db2a2afe3.js.map